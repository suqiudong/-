webpackJsonp([43,51],{624:function(e,a,t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var l=t(5),r=s(l),n=t(17),o=s(n),i=t(16),u=s(i),d=t(6),m=s(d),p=t(3),c=s(p),f=t(4),h=s(f),v=t(8),g=s(v),N=t(7),x=s(N),b=t(2),y=s(b),C=t(149),X=(0,r.default)("label",{htmlFor:"exampleInputOperator"},void 0,"用户名："),D=(0,r.default)("label",{htmlFor:"exampleInputName"},void 0,"姓名："),k=(0,r.default)("span",{className:"messages"}),I=(0,r.default)("label",{htmlFor:"exampleInputEmail1"},void 0,"邮箱："),E=(0,r.default)("span",{className:"messages"}),S=(0,r.default)("label",{htmlFor:"exampleInputTel"},void 0,"电话："),U=(0,r.default)("span",{className:"messages"}),_=(0,r.default)("label",{htmlFor:"exampleInputDepartment"},void 0,"部门："),w=(0,r.default)("span",{className:"messages"}),F=(0,r.default)("label",{htmlFor:"exampleInputPosition"},void 0,"职位："),L=(0,r.default)("span",{className:"messages"}),H=(0,r.default)("label",{},void 0,"角色名称："),T=function(e){function a(e){(0,c.default)(this,a);var t=(0,g.default)(this,(a.__proto__||(0,m.default)(a)).call(this,e));return t.returnHandler=t.returnHandler.bind(t),t.handleChange=t.handleChange.bind(t),t.userUpdateSave=t.userUpdateSave.bind(t),t}return(0,x.default)(a,e),(0,h.default)(a,[{key:"componentWillMount",value:function(){var e=this.props.usermanage.selectedRecord.userName,a=window.location.href.split("/");a=a[a.length-1],e?e:e=a,this.props.userDetail(e)}},{key:"componentDidUpdate",value:function(){var e=this;this.refs.operator.value=this.props.usermanage.userDetail.result.detail.userName,this.refs.department.value=this.props.usermanage.userDetail.result.detail.department,this.refs.email.value=this.props.usermanage.userDetail.result.detail.email,this.refs.position.value=this.props.usermanage.userDetail.result.detail.position,this.refs.name.value=this.props.usermanage.userDetail.result.detail.name,this.refs.phoneNo.value=this.props.usermanage.userDetail.result.detail.phoneNo,document.addEventListener("keydown",function(a){a&&13==a.keyCode&&e.userUpdateSave()})}},{key:"handleChange",value:function(e){var a=e.target.value,t=$(e.currentTarget).attr("name");this.props.userUpdate(t,a)}},{key:"returnHandler",value:function(){this.props.history.replace("/usermanage")}},{key:"userUpdateSave",value:function(){var e=this,a={email:{email:{message:"请输入正确的邮箱格式"}},phoneNo:{format:{pattern:/^[0][0-9]{2,3}-\d{7,8}|^1[34578]\d{9}$/,message:'请输入正确号码格式,例如"010-XXXXXXXX或者131XXXXXXXX"'},length:{minimum:11,maximum:13,message:"请输入正确号码长度"}},name:{length:{maximum:20,message:"长度20位字符以内"}},department:{length:{maximum:20,message:"长度20位字符以内"}},position:{length:{maximum:20,message:"长度20位字符以内"}}};this.refs.save.disabled=!0;var t=(0,C.baseValidate)($("#userUpdeta"),a);return t?void(this.refs.save.disabled=!1):void(0,u.default)(o.default.mark(function a(){return o.default.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.props.userUpdateSave(e.props.usermanage.userDetail.result.detail);case 2:e.props.usermanage.isSaveSuccess.code&&(e.refs.save.disabled=!1),0==e.props.usermanage.isSaveSuccess.code&&setTimeout(function(){e.props.history.replace("/usermanage")},1e3);case 4:case"end":return a.stop()}},a,e)}))()}},{key:"render",value:function(){var e=void 0==this.props.usermanage.userDetail.result?"":this.props.usermanage.userDetail.result.detail.roleName;return(0,r.default)("div",{id:"userUpdeta",className:"box box-primary"},void 0,(0,r.default)("div",{className:"row"},void 0,(0,r.default)("div",{className:"box-body col-md-12"},void 0,(0,r.default)("div",{className:"col-md-5"},void 0,(0,r.default)("div",{className:"form-group col-md-12"},void 0,X,y.default.createElement("input",{type:"text",ref:"operator",className:"form-control operator",id:"exampleInputOperator",disabled:!0})),(0,r.default)("div",{className:"form-group col-md-12"},void 0,D,k,y.default.createElement("input",{type:"text",ref:"name",name:"name",maxLength:20,className:"form-control",id:"exampleInputName",onChange:this.handleChange})),(0,r.default)("div",{className:"form-group col-md-12"},void 0,I,E,y.default.createElement("input",{type:"email",ref:"email",name:"email",maxLength:30,className:"form-control",id:"exampleInputEmail1",onChange:this.handleChange})),(0,r.default)("div",{className:"form-group col-md-12"},void 0,S,U,y.default.createElement("input",{type:"text",ref:"phoneNo",name:"phoneNo",maxLength:13,className:"form-control",id:"exampleInputTel",onChange:this.handleChange}))),(0,r.default)("div",{className:"col-md-5"},void 0,(0,r.default)("div",{className:"form-group col-md-12"},void 0,_,w,y.default.createElement("input",{type:"text",ref:"department",name:"department",maxLength:20,className:"form-control",id:"exampleInputDepartment",onChange:this.handleChange})),(0,r.default)("div",{className:"form-group col-md-12"},void 0,F,L,y.default.createElement("input",{type:"text",ref:"position",name:"position",maxLength:20,className:"form-control",id:"exampleInputPosition",onChange:this.handleChange})),(0,r.default)("div",{className:"form-group col-md-12"},void 0,H,(0,r.default)("input",{className:"form-control roleName",value:e,disabled:!0}))),(0,r.default)("div",{className:"box-button col-md-12"},void 0,(0,r.default)("button",{className:"btn btn-primary",onClick:this.returnHandler},void 0,"返回"),y.default.createElement("button",{className:"btn btn-primary",ref:"save",onClick:this.userUpdateSave},"保存")))))}}]),a}(b.Component);a.default=T}});