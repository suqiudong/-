webpackJsonp([39,51],{630:function(e,a,t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var r=t(5),l=s(r),n=t(17),o=s(n),i=t(16),d=s(i),u=t(6),m=s(u),p=t(3),f=s(p),c=t(4),h=s(c),v=t(8),g=s(v),N=t(7),C=s(N),x=t(2),b=s(x),y=t(149),X=(0,l.default)("label",{htmlFor:"exampleInputOperator"},void 0,"用户名："),I=(0,l.default)("label",{htmlFor:"exampleInputName"},void 0,"姓名："),k=(0,l.default)("span",{className:"messages"}),D=(0,l.default)("label",{htmlFor:"exampleInputEmail1"},void 0,"邮箱："),U=(0,l.default)("span",{className:"messages"}),E=(0,l.default)("label",{htmlFor:"exampleInputTel"},void 0,"电话："),S=(0,l.default)("span",{className:"messages"}),_=(0,l.default)("label",{htmlFor:"exampleInputDepartment"},void 0,"部门："),F=(0,l.default)("span",{className:"messages"}),L=(0,l.default)("label",{htmlFor:"exampleInputPosition"},void 0,"职位："),w=(0,l.default)("span",{className:"messages"}),H=(0,l.default)("label",{},void 0,"角色名称："),M=function(e){function a(e){(0,f.default)(this,a);var t=(0,g.default)(this,(a.__proto__||(0,m.default)(a)).call(this,e));return t.returnHandler=t.returnHandler.bind(t),t.handleChange=t.handleChange.bind(t),t.userUpdateSave=t.userUpdateSave.bind(t),t}return(0,C.default)(a,e),(0,h.default)(a,[{key:"componentWillMount",value:function(){var e=sessionStorage.getItem("XDataUserName");this.props.readUserInfo(e)}},{key:"componentDidUpdate",value:function(){var e=this;this.refs.operator.value=this.props.userCenter.userCenterData.result.detail.userName,this.refs.department.value=this.props.userCenter.userCenterData.result.detail.department,this.refs.email.value=this.props.userCenter.userCenterData.result.detail.email,this.refs.position.value=this.props.userCenter.userCenterData.result.detail.position,this.refs.name.value=this.props.userCenter.userCenterData.result.detail.name,this.refs.phoneNo.value=this.props.userCenter.userCenterData.result.detail.phoneNo,document.addEventListener("keydown",function(a){a&&13==a.keyCode&&e.userUpdateSave()})}},{key:"handleChange",value:function(e){}},{key:"returnHandler",value:function(){this.props.history.replace("/")}},{key:"userUpdateSave",value:function(){var e=this,a={},t={email:{email:{message:"请输入正确的邮箱格式"}},name:{length:{maximum:20,message:"长度20位字符以内"}},phoneNo:{format:{pattern:/^[0][0-9]{2,3}-\d{7,8}|^1[34578]\d{9}$/,message:'请输入正确号码格式,例如"010-XXXXXXXX或者131XXXXXXXX"'},length:{minimum:11,maximum:13,message:"请输入正确号码长度"}},department:{length:{maximum:20,message:"长度20位字符以内"}},position:{length:{maximum:20,message:"长度20位字符以内"}}};a.userName=this.refs.operator.value,a.department=this.refs.department.value,a.email=this.refs.email.value,a.position=this.refs.position.value,a.name=this.refs.name.value,a.phoneNo=this.refs.phoneNo.value,this.refs.save.disabled=!0;var s=(0,y.baseValidate)($("#userUpdeta"),t);return s?void(this.refs.save.disabled=!1):void(0,d.default)(o.default.mark(function t(){return o.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.props.userCenterUpdate(a);case 2:e.props.userCenter.isSaveSuccess.code&&(e.refs.save.disabled=!1),0==e.props.userCenter.isSaveSuccess.code&&setTimeout(function(){e.props.history.replace("/")},1e3);case 4:case"end":return t.stop()}},t,e)}))()}},{key:"render",value:function(){var e=this.props.userCenter.userCenterData.result,a=void 0==e?"":e.detail.roleName;return(0,l.default)("div",{id:"userUpdeta",className:"box box-primary"},void 0,(0,l.default)("div",{className:"row"},void 0,(0,l.default)("div",{className:"box-body col-md-12"},void 0,(0,l.default)("div",{className:"col-md-5"},void 0,(0,l.default)("div",{className:"form-group col-md-12"},void 0,X,b.default.createElement("input",{type:"text",ref:"operator",className:"form-control operator",id:"exampleInputOperator",disabled:!0})),(0,l.default)("div",{className:"form-group col-md-12"},void 0,I,k,b.default.createElement("input",{type:"text",ref:"name",name:"name",maxLength:20,className:"form-control",id:"exampleInputName",onChange:this.handleChange})),(0,l.default)("div",{className:"form-group col-md-12"},void 0,D,U,b.default.createElement("input",{type:"email",ref:"email",name:"email",maxLength:30,className:"form-control",id:"exampleInputEmail1",onChange:this.handleChange})),(0,l.default)("div",{className:"form-group col-md-12"},void 0,E,S,b.default.createElement("input",{type:"text",ref:"phoneNo",name:"phoneNo",maxLength:13,className:"form-control",id:"exampleInputTel",onChange:this.handleChange}))),(0,l.default)("div",{className:"col-md-5"},void 0,(0,l.default)("div",{className:"form-group col-md-12"},void 0,_,F,b.default.createElement("input",{type:"text",ref:"department",name:"department",maxLength:20,className:"form-control",id:"exampleInputDepartment",onChange:this.handleChange})),(0,l.default)("div",{className:"form-group col-md-12"},void 0,L,w,b.default.createElement("input",{type:"text",ref:"position",name:"position",maxLength:20,className:"form-control",id:"exampleInputPosition",onChange:this.handleChange})),(0,l.default)("div",{className:"form-group col-md-12"},void 0,H,(0,l.default)("input",{className:"form-control roleName",value:a,disabled:!0}))),(0,l.default)("div",{className:"box-button col-md-12"},void 0,(0,l.default)("button",{className:"btn btn-primary",onClick:this.returnHandler},void 0,"返回"),b.default.createElement("button",{className:"btn btn-primary",ref:"save",onClick:this.userUpdateSave},"保存")))))}}]),a}(x.Component);a.default=M}});