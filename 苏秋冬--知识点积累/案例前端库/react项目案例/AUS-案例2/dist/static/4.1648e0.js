webpackJsonp([4,51],{594:function(e,a,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var r=t(5),d=i(r),o=t(6),l=i(o),s=t(3),n=i(s),u=t(4),v=i(u),p=t(8),f=i(p),c=t(7),m=i(c),h=t(2),b=(i(h),(0,d.default)("div",{className:"box-header with-border"},void 0,(0,d.default)("p",{className:"box-title"},void 0,"驱动信息"))),y=(0,d.default)("span",{},void 0,"驱动名："),D=(0,d.default)("span",{},void 0,"所有者："),N=(0,d.default)("span",{},void 0,"描述信息："),g=(0,d.default)("span",{},void 0,"安装时间："),M=function(e){function a(e){(0,n.default)(this,a);var t=(0,f.default)(this,(a.__proto__||(0,l.default)(a)).call(this,e));return t.returnHander=t.returnHander.bind(t),t}return(0,m.default)(a,e),(0,v.default)(a,[{key:"componentWillMount",value:function(){var e=this.props.driverManage.driverData.driverName;this.props.lastDriverInfo(e)}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"returnHander",value:function(){this.props.history.replace("/driver")}},{key:"render",value:function(){return(0,d.default)("div",{id:"pluginDetail"},void 0,(0,d.default)("div",{className:"box box-primary"},void 0,(0,d.default)("div",{className:"row"},void 0,(0,d.default)("div",{className:"col-md-12"},void 0,b,(0,d.default)("div",{className:"box-body row"},void 0,(0,d.default)("div",{},void 0,y,(0,d.default)("p",{className:"ml20"},void 0,this.props.driverManage.lastDriverData.result.detail.driverName)),(0,d.default)("div",{},void 0,D,(0,d.default)("p",{className:"ml20"},void 0,this.props.driverManage.lastDriverData.result.detail.owner)),(0,d.default)("div",{},void 0,N,(0,d.default)("p",{className:"ml20"},void 0,this.props.driverManage.lastDriverData.result.detail.description)),(0,d.default)("div",{},void 0,g,(0,d.default)("p",{className:"ml20"},void 0,this.props.driverManage.lastDriverData.result.detail.time)))))),(0,d.default)("div",{className:"col-md-12"},void 0,(0,d.default)("button",{type:"submit",className:"btn btn-primary ",onClick:this.returnHander},void 0,"返回")))}}]),a}(h.Component);a.default=M},596:function(e,a,t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var r=t(5),d=i(r),o=t(6),l=i(o),s=t(3),n=i(s),u=t(4),v=i(u),p=t(8),f=i(p),c=t(7),m=i(c),h=t(2),b=(i(h),t(10)),y=(0,d.default)("h4",{},void 0,"上传插件"),D=(0,d.default)("span",{className:"uploadfilename"}),N=(0,d.default)("div",{className:"uploadbtn"},void 0,(0,d.default)("i",{className:"fa fa-upload"})," 点击上传驱动"),g=(0,d.default)("div",{id:"upload"}),M=(0,d.default)("div",{id:"output"}),k=(0,d.default)("span",{},void 0,"插件名："),w=(0,d.default)("span",{},void 0,"jar包名："),_=(0,d.default)("span",{},void 0,"所有者："),x=(0,d.default)("span",{},void 0,"开发者："),H=(0,d.default)("span",{},void 0,"描述信息："),I=(0,d.default)("span",{},void 0,"版本号："),S=function(e){function a(e){(0,n.default)(this,a);var t=(0,f.default)(this,(a.__proto__||(0,l.default)(a)).call(this,e));return t.returnHander=t.returnHander.bind(t),t.installHander=t.installHander.bind(t),t}return(0,m.default)(a,e),(0,v.default)(a,[{key:"componentWillMount",value:function(){var e=this.props.params.driverName;this.props.lastDriverInfo(e),this.props.driverManage.fileInfo={}}},{key:"componentWillUpdate",value:function(){var e=this.props.params.driverName;this.props.lastDriverInfo(e)}},{key:"componentDidMount",value:function(){var e=this;$("#upload").uploadFile({url:"/DriverManager/upload",maxFileCount:1,showDone:!1,showPreview:!1,dragDrop:!1,showProgress:!0,showFileCounter:!1,acceptFiles:"aplication/zip",fileName:"driverFile",uploadStr:"插件上传",abortStr:"移除",cancelStr:"取消",returnType:"json",extErrorStr:"文件上传错误，只接受扩展名为：*.zip 的文件",showQueueDiv:"output",onSuccess:function(a,t){$(".ajax-file-upload-container").hide(),0==t.code?((0,b.success)("上传成功！"),$("#output").empty(),$(".uploadbtn").hide(),$(".uploadfilename").append(a[0]),e.props.driverFileInfo(t)):"302"==t.code?((0,b.error)(t.msg),setTimeout(function(){sessionStorage.removeItem("XDataUserName"),sessionStorage.removeItem("userRolePermission"),window.location.replace("/")},1e3)):((0,b.error)(t.msg),$(".uploadbtn").show())},onError:function(){(0,b.error)("上传失败！"),$(".ajax-file-upload-container").hide(),$("#output").empty()}})}},{key:"uploadHandler",value:function(e){e.stopPropagation(),$("#upload input").click()}},{key:"returnHander",value:function(){this.props.history.replace("/driver")}},{key:"installHander",value:function(){var e=this,a=this.props.driverManage.fileInfo.result,t=this.props.driverManage.opType;this.props.driverManage.isUse.result&&(a.opType=t),this.props.driverUpdate(a),0==this.props.driverManage.isUpdateSuccess.code&&setTimeout(function(){e.props.history.replace("/driver")},1e3)}},{key:"render",value:function(){var e=void 0;return 0==this.props.driverManage.fileInfo.code&&(e=(0,d.default)("button",{type:"submit",className:"btn btn-primary",onClick:this.installHander},void 0,"Install")),(0,d.default)("div",{id:"driverUpdate"},void 0,(0,d.default)("div",{className:"box box-primary",id:"pluginAdd"},void 0,(0,d.default)("div",{className:"row"},void 0,(0,d.default)("div",{className:"col-md-12"},void 0,(0,d.default)("div",{className:"box-header"},void 0,y,(0,d.default)("div",{className:"uploadStr",onClick:this.uploadHandler},void 0,D,N,g),M),(0,d.default)("div",{className:"box-body"},void 0,(0,d.default)("div",{},void 0,k,(0,d.default)("p",{},void 0,this.props.driverManage.lastDriverData.result.detail.driverName)),(0,d.default)("div",{},void 0,w,(0,d.default)("p",{},void 0,this.props.driverManage.lastDriverData.result.detail.jarName)),(0,d.default)("div",{},void 0,_,(0,d.default)("p",{},void 0,this.props.driverManage.lastDriverData.result.detail.owner)),(0,d.default)("div",{},void 0,x,(0,d.default)("p",{},void 0,this.props.driverManage.lastDriverData.result.detail.developer)),(0,d.default)("div",{},void 0,H,(0,d.default)("p",{},void 0,this.props.driverManage.lastDriverData.result.detail.description)),(0,d.default)("div",{},void 0,I,(0,d.default)("p",{},void 0,this.props.driverManage.lastDriverData.result.detail.version))),(0,d.default)("div",{className:"box-footer"},void 0,(0,d.default)("div",{},void 0,(0,d.default)("button",{type:"submit",className:"btn btn-primary",style:{marginRight:"20px"},onClick:this.returnHander},void 0,"返回"),e))))))}}]),a}(h.Component);a.default=S}});