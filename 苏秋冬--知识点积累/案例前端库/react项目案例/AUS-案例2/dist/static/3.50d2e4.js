webpackJsonp([3,51],{12:function(e,a){"use strict";function t(e,a){var t={data:e.data||[],destroy:!0,scrollXInner:"100%",dom:e.dom||'<"top"f>rt<"bottom"lip>',columns:e.columns||[],language:{sProcessing:"处理中...",sLengthMenu:"显示 _MENU_ 条结果",sZeroRecords:"没有匹配结果",sInfo:"显示第 _START_ 至 _END_ 条结果，共 _TOTAL_ 条",sInfoEmpty:"显示第 0 至 0 条结果，共 0 条",sInfoFiltered:"(由 _MAX_ 条结果过滤)",sInfoPostFix:"",sSearch:"搜索:",sUrl:"",sEmptyTable:"表中数据为空",sLoadingRecords:"载入中...",sInfoThousands:",",oPaginate:{sFirst:"首页",sPrevious:"上页",sNext:"下页",sLast:"末页"},oAria:{sSortAscending:": 以升序排列此列",sSortDescending:": 以降序排列此列"}},paging:e.paging&&!0,pageLength:e.pageLength||10,columnDefs:e.columnDefs||"",order:e.order||[],createdRow:e.createdRow||null,searching:e.searching&&!0,info:e.info&&!0,ordering:e.ordering&&!0};e.scrollX&&(t.scrollX=e.scrollX);var l=void 0;return l=a?$("#"+e.id).dataTable(t):$("#"+e.id).DataTable(t)}function l(e,a,t,l){$("#"+e+" tbody").off(a,t).on(a,t,l)}function i(e){var a=$("#"+e).DataTable().row($(this).parents("tr")).data();return a}Object.defineProperty(a,"__esModule",{value:!0}),a.default=t,a.bindTableEvent=l,a.getTableItem=i},609:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var i=t(5),d=l(i),o=t(6),n=l(o),s=t(3),u=l(s),r=t(4),p=l(r),f=t(8),v=l(f),c=t(7),g=l(c),m=t(2),h=(l(m),t(12)),b=l(h),y=(0,d.default)("div",{className:"box-header"},void 0),N=(0,d.default)("span",{},void 0,"插件名："),M=(0,d.default)("span",{},void 0,"jar包名："),P=(0,d.default)("span",{},void 0,"所有者："),D=(0,d.default)("span",{},void 0,"开发者："),_=(0,d.default)("span",{},void 0,"描述信息："),w=(0,d.default)("span",{},void 0,"版本号："),k=(0,d.default)("div",{className:"col-md-10 col-lg-8"},void 0,(0,d.default)("table",{id:"collectorsList",className:"table table-striped table-bordered"},void 0,(0,d.default)("thead",{},void 0,(0,d.default)("tr",{},void 0,(0,d.default)("th",{},void 0,"采集器名称"),(0,d.default)("th",{},void 0,"class名"),(0,d.default)("th",{},void 0,"描述信息"))))),x=(0,d.default)("span",{},void 0,"作业列表："),I=(0,d.default)("div",{className:"col-lg-8 col-md-10"},void 0,(0,d.default)("table",{id:"jobList",className:"table table-striped table-bordered "},void 0,(0,d.default)("thead",{},void 0,(0,d.default)("tr",{},void 0,(0,d.default)("th",{},void 0,"作业名称"),(0,d.default)("th",{},void 0,"所有者"),(0,d.default)("th",{},void 0,"调度状态"),(0,d.default)("th",{},void 0,"调度方式"))))),T=function(e){function a(e){(0,u.default)(this,a);var t=(0,v.default)(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.returnHander=t.returnHander.bind(t),t}return(0,g.default)(a,e),(0,p.default)(a,[{key:"componentWillMount",value:function(){var e=this.props.params.pluginName;this.props.lastPluginInfo(e),this.props.jobPluginInfo(e)}},{key:"componentDidMount",value:function(){this.createTable(this.props.pluginManage.lastPluginData.result.detail.collectors,this.props.pluginManage.jobList.result);for(var e=this.props.pluginManage.lastPluginData.result.detail.collectors,a=$("#collectorsList tbody td"),t=0;t<e.length;t++)a.eq(3*t+2).attr("title",e[t].description)}},{key:"componentDidUpdate",value:function(){}},{key:"createTable",value:function(e,a){var t={};t.id="collectorsList",t.columns=[{data:"collectorName",defaultContent:"-"},{data:"clazzName",defaultContent:"-"},{data:"description",defaultContent:"-"}],t.scrollX=!1,t.searching=!1,t.paging=!1,t.info=!1,t.ordering=!1,t.data=e,(0,b.default)(t);var l={};l.id="jobList";for(var i=0;i<a.length;i++)"CYCLE"==a[i].scheduleStrategy?a[i].scheduleStrategy="周期":a[i].scheduleStrategy="一次";l.columns=[{data:"jobName",defaultContent:"-"},{data:"owner",defaultContent:"-"},{data:"schStatus",defaultContent:"-"},{data:"scheduleStrategy",defaultContent:"-"}],l.scrollX=!1,l.searching=!1,l.paging=!1,l.info=!1,l.ordering=!1,l.data=a,(0,b.default)(l)}},{key:"returnHander",value:function(){this.props.history.replace("/plugin")}},{key:"render",value:function(){return(0,d.default)("div",{id:"pluginDetail"},void 0,(0,d.default)("div",{className:"box box-primary"},void 0,(0,d.default)("div",{className:"row"},void 0,(0,d.default)("div",{className:"col-md-12"},void 0,y,(0,d.default)("div",{className:"box-body row"},void 0,(0,d.default)("div",{},void 0,N,(0,d.default)("p",{},void 0,this.props.pluginManage.lastPluginData.result.detail.pluginName)),(0,d.default)("div",{},void 0,M,(0,d.default)("p",{},void 0,this.props.pluginManage.lastPluginData.result.detail.jarName)),(0,d.default)("div",{},void 0,P,(0,d.default)("p",{},void 0,this.props.pluginManage.lastPluginData.result.detail.owner)),(0,d.default)("div",{},void 0,D,(0,d.default)("p",{},void 0,this.props.pluginManage.lastPluginData.result.detail.developer)),(0,d.default)("div",{},void 0,_,(0,d.default)("p",{style:{marginLeft:"70px"}},void 0,this.props.pluginManage.lastPluginData.result.detail.description)),(0,d.default)("div",{},void 0,w,(0,d.default)("p",{},void 0,this.props.pluginManage.lastPluginData.result.detail.version)),(0,d.default)("div",{className:"col-md-12",style:{padding:"0"}},void 0,(0,d.default)("span",{style:{width:"80px"}},void 0,"采集器："),k),(0,d.default)("div",{className:"col-md-12",style:{padding:"0"}},void 0,x,I),(0,d.default)("div",{className:"col-md-12"},void 0,(0,d.default)("button",{type:"submit",className:"btn btn-primary ",onClick:this.returnHander},void 0,"返回")))))))}}]),a}(m.Component);a.default=T},611:function(e,a,t){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var i=t(5),d=l(i),o=t(6),n=l(o),s=t(3),u=l(s),r=t(4),p=l(r),f=t(8),v=l(f),c=t(7),g=l(c),m=t(2),h=(l(m),t(10)),b=(0,d.default)("h4",{},void 0,"上传插件"),y=(0,d.default)("span",{className:"uploadfilename"}),N=(0,d.default)("div",{className:"uploadbtn"},void 0,(0,d.default)("i",{className:"fa fa-upload"})," 点击上传插件"),M=(0,d.default)("div",{id:"upload"}),P=(0,d.default)("div",{id:"output"}),D=(0,d.default)("span",{},void 0,"插件名："),_=(0,d.default)("span",{},void 0,"jar包名："),w=(0,d.default)("span",{},void 0,"所有者："),k=(0,d.default)("span",{},void 0,"开发者："),x=(0,d.default)("span",{},void 0,"描述信息："),I=(0,d.default)("span",{},void 0,"版本号："),T=function(e){function a(e){(0,u.default)(this,a);var t=(0,v.default)(this,(a.__proto__||(0,n.default)(a)).call(this,e));return t.returnHander=t.returnHander.bind(t),t.installHander=t.installHander.bind(t),t}return(0,g.default)(a,e),(0,p.default)(a,[{key:"componentWillMount",value:function(){var e=this.props.params.pluginName;this.props.lastPluginInfo(e),this.props.pluginManage.fileInfo={}}},{key:"componentWillUpdate",value:function(){var e=this.props.params.pluginName;this.props.lastPluginInfo(e)}},{key:"componentDidMount",value:function(){var e=this;$("#upload").uploadFile({url:"/PluginManager/upload",maxFileCount:1,showDone:!1,showPreview:!1,dragDrop:!1,showProgress:!0,showFileCounter:!1,fileName:"pluginFile",returnType:"json",uploadStr:"插件上传",cancelStr:"取消",extErrorStr:"是不允许的，只接受扩展名为：",showQueueDiv:"output",onSuccess:function(a,t){$(".ajax-file-upload-container").hide(),0==t.code?((0,h.success)("上传成功！"),$("#output").empty(),$(".uploadbtn").hide(),$(".uploadfilename").append(a[0]),e.props.pluginFileInfo(t)):"302"==t.code?((0,h.error)(t.msg),setTimeout(function(){sessionStorage.removeItem("XDataUserName"),sessionStorage.removeItem("userRolePermission"),window.location.replace("/")},1e3)):((0,h.error)(t.msg),$(".uploadbtn").show())},onError:function(){(0,h.error)("上传失败！"),$(".ajax-file-upload-container").hide(),$("#output").empty()}})}},{key:"uploadHandler",value:function(e){e.stopPropagation(),$("#upload input").click()}},{key:"returnHander",value:function(){this.props.history.replace("/plugin")}},{key:"installHander",value:function(){var e=this,a=this.props.pluginManage.fileInfo.result,t=this.props.pluginManage.opType;this.props.pluginManage.isUse.result&&(a.opType=t),this.props.pluginUpdate(a),0==this.props.pluginManage.isUpdateSuccess.code&&setTimeout(function(){e.props.history.replace("/plugin")},1e3)}},{key:"render",value:function(){var e=void 0;return 0==this.props.pluginManage.fileInfo.code&&(e=(0,d.default)("button",{type:"submit",className:"btn btn-primary",onClick:this.installHander},void 0,"Install")),(0,d.default)("div",{id:"pluginUpdate"},void 0,(0,d.default)("div",{className:"box box-primary"},void 0,(0,d.default)("div",{className:"row"},void 0,(0,d.default)("div",{className:"col-md-12"},void 0,(0,d.default)("div",{className:"box-header"},void 0,b,(0,d.default)("div",{className:"uploadStr",onClick:this.uploadHandler},void 0,y,N,M),P),(0,d.default)("div",{className:"box-body"},void 0,(0,d.default)("div",{},void 0,D,(0,d.default)("p",{},void 0,this.props.pluginManage.lastPluginData.result.detail.pluginName)),(0,d.default)("div",{},void 0,_,(0,d.default)("p",{},void 0,this.props.pluginManage.lastPluginData.result.detail.jarName)),(0,d.default)("div",{},void 0,w,(0,d.default)("p",{},void 0,this.props.pluginManage.lastPluginData.result.detail.owner)),(0,d.default)("div",{},void 0,k,(0,d.default)("p",{},void 0,this.props.pluginManage.lastPluginData.result.detail.developer)),(0,d.default)("div",{},void 0,x,(0,d.default)("p",{style:{marginLeft:"70px"}},void 0,this.props.pluginManage.lastPluginData.result.detail.description)),(0,d.default)("div",{},void 0,I,(0,d.default)("p",{},void 0,this.props.pluginManage.lastPluginData.result.detail.version))),(0,d.default)("div",{className:"box-footer"},void 0,(0,d.default)("div",{},void 0,(0,d.default)("button",{type:"submit",className:"btn btn-primary",style:{marginRight:"20px"},onClick:this.returnHander},void 0,"返回"),e))))))}}]),a}(m.Component);a.default=T}});